(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{8570:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("q-layout",{staticClass:"bg-dark",attrs:{view:"hHh lpR fFf"}},[t.platform?e("section",[e("section",{staticClass:"mob-wrap"},[e("q-header",{staticClass:"bg-blue-grey-10",attrs:{elevated:"","height-hint":"98"}},[e("q-toolbar",[e("q-toolbar-title",[t._v("\n            "+t._s(t.gameName)+"\n          ")]),t.musicInfo?e("q-btn",{attrs:{icon:"music_note",flat:"",dense:""},on:{click:t.openMic}}):t._e(),t.isShowState&&"state"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"tune",label:t.$t("state"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("state")}}}):t._e(),t.isShowTask&&"task"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"hotel_class",label:t.$t("event"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("task")}}}):t._e(),t.isShowProps&&"props"!==t.useRouter?e("q-btn",{staticClass:"q-mr-sm q-px-xs",attrs:{icon:"backpack",label:t.$t("props"),flat:"",ripple:!1,dense:"",size:"13px"},on:{click:function(e){return t.goPage("props")}}}):t._e()],1)],1),e("q-page-container",{staticClass:"gameContent"},[e("router-view",{staticClass:"gameView"})],1)],1),t.musicInfo?e("div",[e("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"gameMusic",preload:"",autoplay:"",loop:"",width:"100%"}},[e("source",{attrs:{src:t.musicInfo.musicSrc}})])]):t._e(),e("q-dialog",{attrs:{position:"bottom"},model:{value:t.poupSwch.musicModel,callback:function(e){t.$set(t.poupSwch,"musicModel",e)},expression:"poupSwch.musicModel"}},[t.musicInfo?e("q-card",{staticClass:"musicControl"},[e("q-card-section",{staticClass:"row items-center no-wrap"},[e("div",[e("div",{staticClass:"text-weight-bold"},[t._v(t._s(t.$t("currentlyPlaying")))]),e("div",{staticClass:"text-grey"},[t._v(t._s(t.musicInfo.musicName))])]),e("q-space"),e("q-btn",{attrs:{flat:"",round:"",icon:"play_arrow"},on:{click:t.playMusic}}),e("q-btn",{attrs:{flat:"",round:"",icon:"pause"},on:{click:t.stopMusic}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",icon:"close"}})],1)],1):t._e()],1)],1):e("q-page-container",{staticClass:"bg-dark"},[e("section",{staticClass:"window-height mobileSimFrameWrap"},[e("div",{staticClass:"deviceReminderText"},[t.isLandscape?e("div",{staticClass:"row"},[e("div",{staticClass:"rotate-phone-icon"},[e("svg",{attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M17 1H7C5.9 1 5 1.9 5 3V21C5 22.1 5.9 23 7 23H17C18.1 23 19 22.1 19 21V3C19 1.9 18.1 1 17 1ZM12 21C11.45 21 11 20.55 11 20C11 19.45 11.45 19 12 19C12.55 19 13 19.45 13 20C13 20.55 12.55 21 12 21ZM17 17H7V4H17V17Z"}})])]),e("div",{staticClass:"col q-pl-md q-mt-xs",domProps:{innerHTML:t._s(t.$t("landscape"))}})]):e("div",{staticClass:"column flex-center q-pa-lg"},[t.qrUrl?e("div",{staticClass:"bg-white q-pa-md rounded-borders shadow-10 q-mb-lg"},[e("qrcode-vue",{staticStyle:{display:"block"},attrs:{value:t.qrUrl,size:200,level:"H"}})],1):t._e(),e("div",{staticClass:"row items-center justify-center text-grey-4",style:"max-width: ".concat(t.qrUrl?280:320,"px")},[t.qrUrl?e("div",{staticClass:"text-body1 text-center",staticStyle:{"line-height":"1.6"},domProps:{innerHTML:t._s(t.$t("deviceQR"))}}):e("div",{staticClass:"row no-wrap items-start"},[e("q-icon",{staticClass:"q-mt-xs q-mr-sm",attrs:{name:"warning",color:"amber-13",size:"md"}}),e("div",{staticClass:"text-body1 text-grey-4",staticStyle:{"line-height":"1.6"},domProps:{innerHTML:t._s(t.$t("deviceReminder"))}})],1)])])])])])],1)},i=[],o=s("398e"),n=s.n(o),c=s("c973"),r=s.n(c),l=s("ded3"),u=s.n(l),d=(s("14d9"),s("b0c0"),s("2f62")),p=s("b12a"),m=s("d7b0"),h={name:"MobLayout",components:{QrcodeVue:m["a"]},data:function(){return{poupSwch:{guideModel:!1,musicModel:!1}}},computed:u()(u()(u()(u()({},Object(d["c"])("playerMob/task",["info","taskName","isShowState","isShowTask","isShowProps"])),Object(d["c"])("playerMob/media",["musicInfo"])),Object(d["c"])("base/setting",["showLoadingMask"])),{},{platform:function(){if(!this.$q.platform.is.mobile)return!1;var t=this.$q.screen.width;return t<=480},isLandscape:function(){if(!this.$q.platform.is.mobile)return!1;var t=this.$q.screen.width,e=this.$q.screen.height;return t>e},isAndroid:function(){return this.$q.platform.is.android||!1},gameName:function(){return this.taskName.taskName},useRouter:function(){return this.$route.name},iframeUrl:function(){var t=location.origin;return t},qrUrl:function(){return window.gameconfig.shareUrl}}),watch:{info:function(t){t||(alertWarning(this.$t("eventTerminated"),this.$t("eventRemovedByAdmin")),this.$router.push({name:"index"}).catch(function(){}))}},methods:u()(u()(u()({},Object(d["b"])("playerMob/task",["setTaskName"])),Object(d["b"])("playerMob/media",["setAMusicInfo"])),{},{goPage:function(t){this.$router.push({name:t}).catch(function(){})},openMic:function(){this.poupSwch.musicModel=!this.poupSwch.musicModel},playMusic:function(){var t=document.querySelector("#gameMusic");t.play(),this.poupSwch.musicModel=!1},stopMusic:function(){var t=document.querySelector("#gameMusic");t.pause(),this.poupSwch.musicModel=!1},isMusicPlaying:function(){var t=document.querySelector("#gameMusic");return t.paused},useFullscreen:function(){p["a"].request()}}),mounted:function(){var t=this;return r()(n()().m(function e(){var s;return n()().w(function(e){while(1)switch(e.n){case 0:s=t.$q.localStorage.getItem("pzBase"),s&&(t.setTaskName(s.taskData),s.taskData.bgMusic&&(t.setAMusicInfo(s.taskData.bgMusic),setTimeout(function(){t.isMusicPlaying()&&t.$q.notify({progress:!0,message:t.$t("musicDetected"),position:"bottom",icon:"music_note",iconColor:"yellow",timeout:1500})},1e3)));case 1:return e.a(2)}},e)}))()}},f=h,b=(s("b5fa"),s("2877")),w=s("4d5a"),g=s("09e3"),v=s("0016"),q=s("e359"),C=s("65c6"),M=s("6ac5"),y=s("9c40"),k=s("24e8"),x=s("f09f"),S=s("a370"),$=s("2c91"),_=s("7f67"),P=s("eebe"),Q=s.n(P),T=Object(b["a"])(f,a,i,!1,null,"7863c76a",null);e["default"]=T.exports;Q()(T,"components",{QLayout:w["a"],QPageContainer:g["a"],QIcon:v["a"],QHeader:q["a"],QToolbar:C["a"],QToolbarTitle:M["a"],QBtn:y["a"],QDialog:k["a"],QCard:x["a"],QCardSection:S["a"],QSpace:$["a"]}),Q()(T,"directives",{ClosePopup:_["a"]})},b5fa:function(t,e,s){"use strict";s("ed00")},ed00:function(t,e,s){}}]);